## **Problem Statement**

Print all subsequences of an array using recursion.

---

## **Intuition**

* At each index, we have **two choices**:

  1. **Take** the element and move to the next index.
  2. **Don’t take** the element and move to the next index.
* This choice pattern leads to `2^n` subsequences.

---

## **Approach**

1. **Base case**: If `idx >= arr.size()`, print the current subsequence (`ans`) and return.
2. **Recursive case**:

   * **Take step**: Add `arr[idx]` to `ans`, call recursion for `idx+1`.
   * **Backtrack**: Remove `arr[idx]` from `ans`.
   * **Not take step**: Call recursion for `idx+1` without adding the element.

---

## **Dry Run** (arr = {1,2,3})

```
idx=0: Take 1 → idx=1
    idx=1: Take 2 → idx=2
        idx=2: Take 3 → idx=3 → print [1,2,3]
        idx=2: NT 3   → idx=3 → print [1,2]
    idx=1: NT 2 → idx=2
        idx=2: Take 3 → idx=3 → print [1,3]
        idx=2: NT 3   → idx=3 → print [1]

idx=0: NT 1 → idx=1
    idx=1: Take 2 → idx=2
        idx=2: Take 3 → idx=3 → print [2,3]
        idx=2: NT 3   → idx=3 → print [2]
    idx=1: NT 2 → idx=2
        idx=2: Take 3 → idx=3 → print [3]
        idx=2: NT 3   → idx=3 → print []
```

Output:

```
1 2 3
1 2
1 3
1
2 3
2
3

```

(`[]` means empty subsequence)

---

## **Complexity**

* **Time**: O(2^n \* n) → `2^n` subsequences, each printed in O(n)
* **Space**: O(n) for recursion depth + O(n) for `ans`

---

## **Code**

```cpp
#include<bits/stdc++.h>
using namespace std;

class Solution{
public:
    void printAllSubsequence(vector<int> arr,int idx,vector<int>& ans){
        // Base case
        if(idx >= arr.size()){
            for(int i = 0; i < ans.size(); i++){
                cout << ans[i] << " ";
            }
            cout << endl;
            return ;
        }

        // Take the element
        ans.push_back(arr[idx]);
        printAllSubsequence(arr, idx + 1, ans);

        // Backtrack: remove the element
        ans.pop_back();

        // Not take the element
        printAllSubsequence(arr, idx + 1, ans);
    }
};

int main(){
    Solution s;
    vector<int> arr = {1,2,3};
    vector<int> ans;
    s.printAllSubsequence(arr,0,ans);
    return 0;
}
```

---

