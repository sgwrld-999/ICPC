## **K-th Smallest Element**

### **1. Problem Understanding**

We are given:

* An array of `n` integers.
* An integer `k`.
  We need to find the **k-th smallest element** in the array.

---

### **2. When to Think of Heap**

A problem is often a heap problem if:

1. It asks for **K smallest/largest** elements or the **K-th smallest/largest** element.
2. Sorting the entire array is possible but not optimal.
3. We can optimize from **O(n log n)** to **O(n log k)**.

---

### **3. Why Max Heap for K-th Smallest?**

* We want to keep **only the smallest k elements** in memory at any time.
* If we keep them in a **Max Heap**, the **largest** among these k elements will always be at the top.
* This allows us to:

  * Quickly remove elements that are **larger than needed**.
  * Ensure the top of the heap always represents the **k-th smallest** so far.

---

### **4. Algorithm**

**Step-by-step:**

1. Create a **Max Heap** (priority queue in C++).
2. Traverse the array:

   * Push each element into the heap.
   * If heap size > k â†’ pop the largest element (max heap top).
3. After traversal, the top of the heap is the **k-th smallest** element.

---

### **5. Time Complexity**

* **Push** into heap: `O(log k)`
* We do this for `n` elements â†’ **O(n log k)** total.
* Better than full sort **O(n log n)** if `k << n`.

---

### **6. C++ Syntax for Max Heap**

```cpp
priority_queue<int> maxHeap; // default is max heap
maxHeap.push(x);             // insert
maxHeap.pop();               // remove largest
maxHeap.top();               // get largest
```

---

### **7. Code**

```cpp
class Solution {
public:
    int kthSmallestElement(vector<int>& inputVector, int k, int n) {
        priority_queue<int> maxHeap; // max heap
        for (int i = 0; i < n; i++) {
            maxHeap.push(inputVector[i]);
            if (maxHeap.size() > k) {
                maxHeap.pop();
            }
        }
        return maxHeap.top(); // k-th smallest
    }
};
```

---

### **8. Dry Run Example**

**Input:**

```
n = 6, k = 3
Array = [7, 10, 4, 3, 20, 15]
```

**Execution:**

```
Heap: []

Push 7 â†’ [7]
Push 10 â†’ [10, 7]
Push 4 â†’ [10, 7, 4]
Heap size > 3? No

Push 3 â†’ [10, 7, 4, 3] â†’ pop 10 â†’ [7, 3, 4]
Push 20 â†’ [20, 7, 4, 3] â†’ pop 20 â†’ [7, 3, 4]
Push 15 â†’ [15, 7, 4, 3] â†’ pop 15 â†’ [7, 3, 4]

End â†’ top = 7 (3rd smallest)
```

---

âœ… **Final Answer:** **7**
ðŸ“Œ **Key takeaway:** Keep only the smallest k numbers â†’ use Max Heap.

---
