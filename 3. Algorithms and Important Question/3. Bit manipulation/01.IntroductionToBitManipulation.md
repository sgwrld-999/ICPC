## **Bit Manipulation Notes**

### **1. Basics**

* **Definition:** Bit manipulation is performing operations directly on the binary representation of integers.
* **Why use it?**

  * Extremely fast (O(1) for most operations).
  * Memory-efficient.
  * Common in competitive programming, cryptography, compression, graphics, and low-level optimizations.

---

### **2. Number Representations**

* **Binary, Decimal, Hexadecimal conversions**.
* **1’s Complement:** Flip all bits.
  Example: `0101` → `1010`.
* **2’s Complement:** 1’s complement + 1 (used to represent negative numbers in binary).
* **Signed vs Unsigned integers:** Overflow and how negative numbers are stored.

---

### **3. Bitwise Operators**

| Operator    | Symbol | Example       | Use            |
| ----------- | ------ | ------------- | -------------- |
| AND         | `&`    | `5 & 3 = 1`   | Masking bits   |
| OR          | `\|`   | `5 \| 3 = 7`  | Setting bits   |
| XOR         | `^`    | `5 ^ 3 = 6`   | Toggling bits  |
| NOT         | `~`    | `~5 = -6`     | Inverting bits |
| Left Shift  | `<<`   | `5 << 1 = 10` | Multiply by 2  |
| Right Shift | `>>`   | `5 >> 1 = 2`  | Divide by 2    |

---

### **4. Common Bit Tricks**

#### **Check if ith bit is set**

```cpp
if (n & (1 << i))  // i starts from 0
    cout << "Set";
```

#### **Set ith bit**

```cpp
n |= (1 << i);
```

#### **Clear ith bit**

```cpp
n &= ~(1 << i);
```

#### **Toggle ith bit**

```cpp
n ^= (1 << i);
```

#### **Remove last set bit**

```cpp
n = n & (n - 1);
```

#### **Get last set bit**

```cpp
n & -n;
```

---

### **5. Useful Built-in Functions (C++ STL)**

* **`__builtin_popcount(n)`** → count of set bits.
* **`__builtin_clz(n)`** → leading zeros.
* **`__builtin_ctz(n)`** → trailing zeros.

---

### **6. Important Problems & Patterns**

* **Check if number is power of two:**
  `n > 0 && (n & (n - 1)) == 0`
* **Swap two numbers without temp:**
  `a ^= b; b ^= a; a ^= b;`
* **Find unique element when all others appear twice:**
  XOR all elements.
* **Find two unique numbers when others appear twice:**
  Use XOR partitioning.
* **Subsets generation:**
  Loop from `0` to `(1 << n) - 1`.
* **Fast exponentiation using bits:**
  Binary exponentiation.

---

### **7. Conversion Functions**

(From your code, but improved for clarity and safety)

```cpp
string decimalToBinary(int n) {
    string result;
    while (n > 0) {
        result = to_string(n % 2) + result;
        n /= 2;
    }
    return result.empty() ? "0" : result;
}

int binaryToDecimal(string bin) {
    int decimal = 0;
    for (char c : bin) {
        decimal = decimal * 2 + (c - '0');
    }
    return decimal;
}
```

---

### **8. Advanced Bit Manipulation Concepts**

* **Bitmasking** (storing multiple flags in one number).
* **Bit DP** (dynamic programming using bitmasks).
* **Fenwick Trees / Binary Indexed Trees** (use binary logic for efficient sums).
* **Gray Codes**.
* **Segment Trees with Bit Operations**.
* **Fast Walsh–Hadamard Transform** (for XOR convolution).

---

### **9. Practice Problems**

1. [Single Number (LeetCode 136)](https://leetcode.com/problems/single-number/)
2. [Counting Bits (LeetCode 338)](https://leetcode.com/problems/counting-bits/)
3. [Maximum XOR of Two Numbers (LeetCode 421)](https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array/)
4. [Power of Two (LeetCode 231)](https://leetcode.com/problems/power-of-two/)
5. [Subsets (LeetCode 78)](https://leetcode.com/problems/subsets/)

---
